pre-commit:
  parallel: true
  follow: true
  jobs:
    - name: biome - lint
      glob: "src/**/*.{js,ts,jsx,tsx,astro}"
      fail_text: "Linting failed! Please fix the issues before committing."
      run: source ~/.nvm/nvm.sh && nvm use 22 && npx biome lint --write {staged_files}

    - name: biome - format
      glob: "src/**/*.{js,ts,jsx,tsx,astro}"
      fail_text: "Linting failed! Please fix the issues before committing."
      run: source ~/.nvm/nvm.sh && nvm use 22 && npx biome format --write {staged_files}

    - name: astro
      glob: "*.astro"
      fail_text: "Linting failed! Please fix the issues before committing."
      run: source ~/.nvm/nvm.sh && nvm use 22 && npx astro check {staged_files}

    - name: tombi - lint
      glob: "*.toml"
      fail_text: "Linting failed! Please fix the issues before committing."
      run: npx tombi-toml lint {staged_files}

    - name: tombi - format
      glob: "*.toml"
      fail_text: "Formatting failed! Please fix the issues before committing."
      run: npx tombi-toml format {staged_files}
